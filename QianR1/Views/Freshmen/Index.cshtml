@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<link href="~/css/freshmen.css" rel="stylesheet" />

<div class="nav-bg"></div>
<div class="freshmen-page">
    <div class="breadcrumb">
        <a href="/home/index">Home</a> &gt;
        <a href="/freshmen/index">Freshmen Guide</a>
    </div>
    <div class="container_new2">

        <div class="sidebar">
            <ul>
                <li><a href="#" data-target="content1" class="sidebar-link">To-Do-List</a></li>
                <li><a href="#" data-target="content2" class="sidebar-link">2</a></li>
                <li><a href="#" data-target="content3" class="sidebar-link">3</a></li>
                <li><a href="#" data-target="content4" class="sidebar-link">4</a></li>
                <li><a href="#" data-target="content5" class="sidebar-link">5</a></li>
                <li><a href="#" data-target="content6" class="sidebar-link">6</a></li>
                <li><a href="#" data-target="content7" class="sidebar-link">Apply Student Card</a></li>
            </ul>
        </div>
        <div class="content">
            <div id="content1" class="content-section">
                <h1>Before uni starts TO-DO list</h1>
                <p>Content for 1 xxxxxxxxxxxxxx...</p>
            </div>
            <div id="content2" class="content-section">
                <h2>xxxxxxxxxxxxxx</h2>
                <p>Content for 2 xxxxxxxxxxxxxx...</p>
            </div>
            <div id="content3" class="content-section">
                <h2>xxxxxxxxxxxxxx</h2>
                <p>Content for 3 xxxxxxxxxxxxxx...</p>
            </div>
            <div id="content4" class="content-section">
                <h2>xxxxxxxxxxxxxx</h2>
                <p>Content for 4 xxxxxxxxxxxxxx...</p>
            </div>
            <div id="content5" class="content-section">
                <h2>xxxxxxxxxxxxxx</h2>
                <p>Content for 5 xxxxxxxxxxxxxx...</p>
            </div>
            <div id="content6" class="content-section">
                <h2>xxxxxxxxxxxxxx</h2>
                <p>Content for 6 xxxxxxxxxxxxxx...</p>
            </div>
            <div id="content7" class="content-section">

                <h1>Getting Started to Apply for a Student Card</h1>
                <div class="image-container">
                    <img src="~/images/photo_guide 1.png" alt="Photo Guidelines" class="image-full">
                    <img src="~/images/image 40.png" alt="Student Card Examples" class="image-original">
                </div>

                @if (Model != null && Model.IsAdmin == false)
                {
                    <form action="/submit" method="post" enctype="multipart/form-data">
                        <div class="upload-photo-section">
                            <h2>Upload Your Photo</h2>
                            <p>If you have any trouble uploading your photo, we can help. Call Student Central on 1300 ASK UON (+61 2 4921 5000).</p>
                            <table>
                                <tr>
                                    <td>First Name</td>
                                    <td>@Model.FirstName</td>
                                </tr>
                                <tr>
                                    <td>Last Name</td>
                                    <td>@Model.LastName</td>
                                </tr>
                                <tr>
                                    <td>Email Address</td>
                                    <td>@Model.Email</td>
                                </tr>
                                <tr>
                                    <td>Student Number</td>
                                    <td>@Model.StudentNumber</td>
                                </tr>

                                <tr>
                                    <td>Pick Up Location <span class="required">*</span></td>
                                    <td>
                                        <select name="pickupLocation" required>
                                            <option value="">-- Select a Location --</option>
                                            <option value="Singapore">Singapore</option>
                                            <option value="Australia">Australia</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Upload Photo <span class="required">*</span></td>
                                    <td>
                                        <input type="file" name="uploadPhoto" required />
                                    </td>
                                </tr>
                            </table>
                            <button type="submit">Submit</button>
                            <div class="notice">
                                Choose "<span class="highlight">Singapore</span>" for your pick-up location.
                                You will receive an email from the school site when it is ready!
                            </div>
                        </div>
                    </form>
                }
                else if (Model != null && Model.IsAdmin == true)
                {

                }
                else
                {
                    <!-- 用户未登录，显示提示信息和登录链接 -->
                    <div class="login-prompt">
                        <p>You need to <a asp-controller="Account" asp-action="Login">log in first</a> to access this content.</p>
                    </div>

                }
            </div>
        </div>
    </div>
</div>



    <script>
    document.querySelectorAll('.sidebar-link').forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();

            // 移除所有活动状态
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
            });

            // 添加活动状态
            this.classList.add('active');

            // 隐藏所有内容部分
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // 显示目标内容部分
            const targetId = this.getAttribute('data-target');
            document.getElementById(targetId).classList.add('active');
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        const sidebarLinks = document.querySelectorAll('.sidebar-link');
        const breadcrumb = document.querySelector('.breadcrumb');

        sidebarLinks.forEach(link => {
            link.addEventListener('click', function (event) {
                event.preventDefault(); // 阻止链接的默认行为

                // 获取当前链接的文本内容
                const text = this.textContent;

                // 获取当前 breadcrumb 的所有子节点
                const crumbs = breadcrumb.querySelectorAll('a, span');

                // 确保 breadcrumb 有足够的项来更新第三项
                if (crumbs.length >= 2) {
                    // 更新第三个 breadcrumb 项
                    if (crumbs.length > 2) {
                        // 移除旧的第三个 breadcrumb 项
                        crumbs[2].remove();
                    }

                    // 生成新的 breadcrumb 项
                    const newCrumb = document.createElement('span');
                    newCrumb.textContent = ` > ${text}`;

                    // 将新 breadcrumb 项添加到 breadcrumb 中
                    breadcrumb.appendChild(newCrumb);
                }
            });
        });
    });
    </script>
